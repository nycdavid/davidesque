<canvas id="line-chart"></canvas>

{{ $dataPartial := .Get "dataPartial" }}
{{ partial "data.{{$dataPartial}}.html" }}

<script defer>
  document.addEventListener("DOMContentLoaded", () => {
    const ctx = document.getElementById("line-chart");
    const x = window.lineChartData.map(el => el[0]);
    const y = window.lineChartData.map(el => el[1]);

    const ch = new Chart(ctx, {
      type: "line",
      data: {
        labels: x,
        datasets: [{
          label: "Weight",
          data: y,
          borderColor: "rgb(75, 192, 192)",
          tension: 0.3
        }]
      },
      options: {
        responsive: true,
      }
    });

    ch.setActiveElements([ {datasetIndex: 0, index: x.length-1} ])
    ch.tooltip.setActiveElements(
      [{ datasetIndex: 0, index: x.length-1 }],
      { x: 0, y: 0 }
    );
    ch.update();
  });
</script>
